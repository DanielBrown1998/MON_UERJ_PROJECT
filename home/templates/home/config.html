{% extends "home/index.html" %}
{% block content %}
    <div class="flex-column">
        <a href="{% url 'home:create' %}" 
        class='btn-select a-rodape item-padding margin-top-bottom'>
        ADD MATRÍCULA</a>
        <a href="{% url 'home:dados' %}" 
        class='btn-select a-rodape item-padding margin-top-bottom'>
        DADOS ESTATÍSTICOS</a>
        <div class="div-search border-white div-padding">
            <form action="{% url 'home:config' %}" method="get">
                <input type="text" name="q" id="search" class="form-search item-padding"
                placeholder="Search" autocomplete="off" value="{{search}}">
            </form>
        </div>
        {% if data %}
            <table class="table-matricula div-padding">
                <thead class="table-cabecalho">
                    <tr>
                        <th>matricula</th>
                        <th>nome</th>
                        <th>marcada</th>
                        <th>presente</th>
                        <th>atualizar</th>
                    </tr>
                </thead>
                <tbody class="table-body">
                    <!--for aqui-->
                    {% for aluno in data %}
                    <tr>
                        <td>{{aluno.usuario.username}}</td>
                        <td>{{aluno.usuario.first_name}} {{aluno.usuario.last_name}}</td>
                        <td>{{aluno.monitorias_marcadas}}</td>
                        <form action="#" method="post">
                            {% csrf_token %}
                            <td>
                                <input type="number" name="{{aluno.usuario.username}}" id="monitorias_marcadas" value="{{aluno.monitorias_presentes}}" class="form-table">
                                </input>
                            </td>
                            <td><input type="submit" value="&rArr;" class="btn-select"></td>
                        </form>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div class="flex-row">
                {% if data.has_previous and data.has_next %}
                    <span class="flex-row-space-evenly">
                {% else %}
                    <span>
                {% endif %}
                    {% if data.has_previous %}
                        <a href="?page=1&q={{search}}">&laquo; first</a>
                        <a href="?page={{ data.previous_page_number }}&q={{search}}" class="next-previous">previous</a>
                    {% endif %}
        
                    <span class="current">
                        Page {{ data.number }} of {{ data.paginator.num_pages }}.
                    </span>
        
                    {% if data.has_next %}
                        <a href="?page={{ data.next_page_number }}&q={{search}}" class="next-previous">next</a>
                        <a href="?page={{ data.paginator.num_pages }}&q={{search}}">last &raquo;</a>
                    {% endif %}
                </span>
            </div>
        {% else %}
            <p class="text-center table-matricula div-padding">Nenhuma monitoria encontrada</p>
        {% endif%}
    </div>
{% endblock content %}
{% block aside %}
    <div class="info div-padding">
        <h2 class="text-center item-padding legend">Dias da semana: </h2>
        <form action="" method="post" class="flex-column">
            {% for day in daysweek %}
                {% csrf_token %}
                <label for="{{day}}" class="flex-row-info item-padding">
                    <p class="legend">{{day}}</p>
                    {% if day in days %}
                        <input type="checkbox" name="{{day}}" id="{{day}}"  value="{{day}}" checked>
                    {% else %}
                    <input type="checkbox" name="{{day}}" value="{{day}}" id="{{day}}">
                    {% endif %}
                </label>
            {% endfor %}
            <input type="button" value="marcar" class="btn-send">
        </form>
    </div>
{% endblock aside %}


